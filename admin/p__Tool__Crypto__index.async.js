"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[596],{62501:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(48305),a=t.n(r),s=t(98451),c=t(38968),i=t(40637),u=t(63976),o=t(93236),l=t(33555),f=t(49199),p=t(62834),d=t(68720),h=t(75638),x=t(51077),m=t(90228),y=t.n(m),v=t(87999),j=t.n(v),b=function(){var e=j()(y()().mark((function e(n){return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=j()(y()().mark((function e(n){var t,r,a=arguments;return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>1&&void 0!==a[1])||a[1],n){e.next=4;break}return p.ZP.open({type:"warning",content:"无内容可以复制"}),e.abrupt("return",!1);case 4:return e.next=6,b(n);case 6:return r=e.sent,t&&p.ZP.open({type:r?"success":"error",content:r?"复制成功":"复制失败"}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(e,n){var t=URL.createObjectURL(e),r=document.createElement("a");r.style.display="none",r.download=n||e.name,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},Z=function(e,n){var t=new File([e],n+".text",{type:"text/plain;charset=utf-8"});k(t)},w=function(e,n){var t=new File([JSON.stringify(e)],n+".json",{type:"application/json;charset=utf-8"});k(t)},C=t(51761),N=t(62086),S=function(e){var n=e.name,t=void 0===n?Date.now()+"":n,r=e.value,a=e.children;return(0,N.jsx)(C.Z.Button,{menu:{items:[{key:"saveToJson",label:"保存为 .json"},{key:"saveToText",label:"保存为 .text"}],onClick:function(e){switch(e.key){case"saveToJson":w(r,t);break;case"saveToText":Z(r,t)}}},onClick:function(){g(r)},children:a})},T=function(){var e=(0,o.useState)(""),n=a()(e,2),t=n[0],r=n[1],s=(0,o.useState)(""),c=a()(s,2),i=c[0],u=c[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h5",{className:"font-base font-semibold",children:"字符串"}),(0,N.jsx)(d.Z.TextArea,{value:t,onChange:function(e){console.log("onTextChange");var n=e.target.value;r(n),u((0,l.Ne)(n))},placeholder:"字符串内容",autoSize:{minRows:5}}),(0,N.jsx)("div",{className:"flex items-center justify-center py-2 my-4",children:(0,N.jsx)(f.Z,{className:"rotate-90 text-base"})}),(0,N.jsx)("h5",{className:"font-base font-semibold",children:"Base64"}),(0,N.jsx)(d.Z.TextArea,{value:i,onChange:function(e){var n=e.target.value;console.log("newBase64",n),u(n);try{r((0,l.Vy)(n))}catch(e){r(""),p.ZP.error("解码失败")}},placeholder:"Base64显示区",autoSize:{minRows:5}}),(0,N.jsxs)(h.Z,{className:"py-4",children:[(0,N.jsx)(x.ZP,{type:"primary",danger:!0,onClick:function(){r(""),u("")},children:"重置"}),(0,N.jsx)(S,{value:t,children:"复制字符串"}),(0,N.jsx)(S,{value:i,children:"复制Base64字符串"})]})]})},B=t(26068),P=t.n(B),E=t(5429),A=t(4525),F=t(37598),K=function(e){var n=e.toTest,t=(0,o.useState)(!1),r=a()(t,2),s=r[0],c=r[1],u=(0,o.useState)(),f=a()(u,2),p=f[0],m=f[1],v=(0,o.useState)(),b=a()(v,2),g=b[0],k=b[1],Z=function(){var e=j()(y()().mark((function e(n){var t,r,a;return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),console.log("formData",n),k(n),e.next=5,(0,E.HI)(n);case 5:return t=e.sent,e.t0=JSON,e.t1=P(),e.next=10,(0,E.EF)(t,n);case 10:e.t2=e.sent,e.t3={key:e.t2},e.t4=n,e.t5=(0,e.t1)(e.t3,e.t4),r=e.t0.stringify.call(e.t0,e.t5),a={json:r,base64:(0,l.Ne)(r)},m(a),c(!1);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(A.A,{loading:s,initialValues:{type:"asymmetric",name:"AES-GCM",length:256,usage:["decrypt","encrypt"],format:"jwk"},submitter:{searchConfig:{submitText:"生成密钥并导出"}},onFinish:Z,children:[(0,N.jsx)(F.Z,{label:"加密类型",name:"type",valueEnum:{asymmetric:"非对称加密"},rules:[{required:!0,message:"请选择加密类型"}]}),(0,N.jsx)(F.Z,{label:"算法类型",name:"name",valueEnum:{"AES-GCM":"AES-GCM  该对称加密采用Counter模式，并带有GMAC消息认证码"},rules:[{required:!0,message:"请选择加密类型"}]}),(0,N.jsx)(F.Z,{label:"密钥长度",name:"length",valueEnum:{128:"128",256:"256"},rules:[{required:!0,message:"请选择密钥长度"}]}),(0,N.jsx)(F.Z,{label:"密钥用途",name:"usage",mode:"multiple",valueEnum:{decrypt:"decrypt",encrypt:"encrypt",deriveBits:"deriveBits",deriveKey:"deriveKey",sign:"sign",unwrapKey:"unwrapKey",verify:"verify",wrapKey:"wrapKey"},rules:[{required:!0,message:"请选择密钥用途"}]}),(0,N.jsx)(F.Z,{label:"导出密钥格式",name:"format",valueEnum:{jwk:"JSON Web Key 格式",raw:"Raw 格式",pkcs8:"PKCS #8 格式",spki:"SubjectPublicKeyInfo 格式"},rules:[{required:!0,message:"请选择导出密钥格式"}]})]}),(0,N.jsx)("div",{className:"mt-4"}),p&&g&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h5",{className:"font-base font-semibold",children:"密钥信息"}),(0,N.jsx)(d.Z.TextArea,{className:"mb-4",value:p.json,placeholder:"密钥信息显示区"}),(0,N.jsx)(d.Z.TextArea,{value:p.base64,placeholder:"密钥信息显示区"}),(0,N.jsxs)(h.Z,{className:"py-4",children:[(0,N.jsx)(S,{value:p.json,children:"复制JSON"}),(0,N.jsx)(S,{value:p.base64,children:"复制Base64"}),(0,N.jsx)(i.Link,{to:"/tool/crypto/test",onClick:function(){return n(p.base64)},children:(0,N.jsx)(x.ZP,{children:"去测试"})})]})]})]})},O=t(21052),L=t(95312),R=function(e){var n=e.crypto,t=(0,i.useModel)("crypto").cryptoInfo;console.log("cryptoInfo   11",t,n);var r=(0,o.useState)(),s=a()(r,2),c=s[0],u=s[1],l=(0,o.useState)(""),f=a()(l,2),p=f[0],m=f[1],v=(0,o.useState)([]),b=a()(v,2),k=b[0],Z=b[1],w=(0,o.useState)(""),C=a()(w,2),S=C[0],T=C[1],B=(0,o.useState)(""),P=a()(B,2),A=P[0],F=P[1],K=function(){var e=j()(y()().mark((function e(){return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.t0=F,e.next=5,(0,E.Wg)(S,t);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=j()(y()().mark((function e(){return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.t0=F,e.next=5,(0,E.WB)(S,t);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=!1,t=function(){var t=j()(y()().mark((function t(){var r;return y()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return u(void 0),t.abrupt("return");case 3:return t.next=5,(0,E.a8)(n);case 5:if(r=t.sent,!e){t.next=8;break}return t.abrupt("return");case 8:u(r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[n]),(0,o.useEffect)((function(){console.log("useEffect");var e=[];c&&e.push("test"),t&&e.push("github-config"),e.length&&m(e[0]),Z(e)}),[t,c]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h5",{className:"font-base font-semibold",children:"选择加密类型"}),(0,N.jsx)(L.ZP.Group,{className:"w-full",options:k,onChange:function(e){m(e.target.value)},value:p,optionType:"button",buttonStyle:"solid"}),"test"===p&&(0,N.jsx)(d.Z.TextArea,{className:"my-4",value:n,readOnly:!0,placeholder:""}),p&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(h.Z,{className:"py-4",children:[(0,N.jsx)(x.ZP,{onClick:K,children:"加密"}),(0,N.jsx)(x.ZP,{onClick:R,children:"解密"}),(0,N.jsx)(x.ZP,{type:"primary",onClick:function(){return g(A)},children:"复制结果"}),(0,N.jsx)(x.ZP,{danger:!0,type:"primary",onClick:function(){T(""),F("")},children:"重置"})]}),(0,N.jsx)(d.Z.TextArea,{value:S,onChange:function(e){return T(e.target.value)},placeholder:"Base64显示区"}),(0,N.jsx)("div",{className:"flex items-center justify-center py-2 my-4",children:(0,N.jsx)(O.Z,{className:"text-base"})}),(0,N.jsx)(d.Z.TextArea,{value:A,onChange:function(e){return F(e.target.value)},readOnly:!0,placeholder:"Base64显示区"})]})]})},J=t(92306),q=t(93631),D=t(25202),G=t(26603),M=t(78476),I=function(){var e=(0,q.Z)(!1),n=a()(e,2),t=n[0],r=n[1].set,s=(0,o.useState)([]),c=a()(s,2),i=c[0],u=c[1],f=(0,o.useState)([]),p=a()(f,2),m=p[0],v=p[1],b={name:"file",listType:"picture",multiple:!0,fileList:m,disabled:t,onChange:function(e){return j()(y()().mark((function n(){return y()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v(e.fileList);case 1:case"end":return n.stop()}}),n)})))()},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};(0,o.useEffect)((function(){var e=!1;return console.log(m),r(!0),setTimeout(j()(y()().mark((function n(){var t,a,s,c;return y()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return");case 2:return t=m.filter((function(e){return"done"===e.status})),n.next=5,Promise.all(t.map(function(){var e=j()(y()().mark((function e(n){var t,r;return y()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=i.find((function(e){return e.file===n})))){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,(0,l.w8)(n.originFileObj);case 5:return r=e.sent,e.t0=n,e.t1=r,e.next=10,(0,E.x5)(r);case 10:return e.t2=e.sent,e.abrupt("return",{file:e.t0,base64:e.t1,hash:e.t2});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:if(a=n.sent,!e){n.next=8;break}return n.abrupt("return");case 8:s=new Set,c=[],a=a.reduce((function(e,n){return s.has(n.hash)?(c.push(n.file),e):(s.add(n.hash),e.push(n),e)}),[]),u(a),c.length&&v((function(e){return e.filter((function(e){return!c.includes(e)}))})),r(!1);case 14:case"end":return n.stop()}}),n)}))),100),function(){e=!0}}),[m]);return(0,N.jsxs)(D.Z,{spinning:t,delay:100,children:[(0,N.jsx)("h5",{className:"font-base font-semibold",children:"字符串"}),(0,N.jsxs)(G.Z.Dragger,P()(P()({},b),{},{children:[(0,N.jsx)("p",{className:"ant-upload-drag-icon",children:(0,N.jsx)(J.Z,{})}),(0,N.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,N.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})),(0,N.jsx)("div",{className:"flex items-center justify-center py-2 my-4",children:(0,N.jsx)(O.Z,{className:"text-base"})}),(0,N.jsx)("h5",{className:"font-base font-semibold",children:"Base64"}),!!i.length&&(0,N.jsxs)(h.Z,{className:"py-4",children:[(0,N.jsx)(x.ZP,{type:"primary",danger:!0,onClick:function(){u([]),v([])},children:"重置"}),(0,N.jsx)(x.ZP,{onClick:function(){i.forEach((function(e){w(e.base64,e.hash)}))},children:"保存所有图片Base64为.json"}),(0,N.jsx)(x.ZP,{onClick:function(){i.forEach((function(e){Z(e.base64,e.hash)}))},children:"保存所有图片Base64为.txt"})]}),i.map((function(e){return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsx)(M.Z,{width:200,src:e.base64}),(0,N.jsxs)("div",{children:[(0,N.jsx)(d.Z.TextArea,{value:e.base64,readOnly:!0,placeholder:"Base64显示区"}),(0,N.jsxs)(h.Z,{className:"py-4",children:[(0,N.jsx)(x.ZP,{type:"primary",danger:!0,onClick:function(){return v((function(n){return n.filter((function(n){return n!==e.file}))}))},children:"删除"}),(0,N.jsx)(S,{value:e.base64,children:"复制Base64字符串"})]})]})]})},e.hash)}))]})},U=function(){var e=(0,i.useParams)().id,n=(0,o.useState)(e),t=a()(n,2),r=t[0],l=t[1],f=(0,o.useState)(),p=a()(f,2),d=p[0],h=p[1],x=[{key:"base64",label:"Base64加/解密",children:(0,N.jsx)(T,{})},{key:"image-to-base64",label:"图片转Base64",children:(0,N.jsx)(I,{})},{key:"generate",label:"生成加密信息",children:(0,N.jsx)(K,{toTest:h})},{key:"test",label:"测试加密",children:(0,N.jsx)(R,{crypto:d})}];return(0,o.useEffect)((function(){x.some((function(n){return n.key===e}))?l(e):(l(x[0].key),i.history.replace("/tool/crypto/"))}),[e]),(0,N.jsx)(s._z,{children:(0,N.jsx)(c.Z,{children:(0,N.jsx)(u.Z,{activeKey:r,items:x,onChange:function(e){"test"!==e&&h(void 0),i.history.replace("/tool/crypto/"+e)}})})})}}}]);